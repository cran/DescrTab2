%\VignetteIndexEntry{Test_choice}
%\VignettePackage{DescrTab2}
%\VignetteEncoding{UTF-8}



\documentclass[10pt, a4paper, landscape]{article}\usepackage[]{graphicx}\usepackage[]{color}
% maxwidth is the original width if it is less than linewidth
% otherwise use linewidth (to make sure the graphics do not exceed the margin)
\makeatletter
\def\maxwidth{ %
  \ifdim\Gin@nat@width>\linewidth
    \linewidth
  \else
    \Gin@nat@width
  \fi
}
\makeatother

\definecolor{fgcolor}{rgb}{0.345, 0.345, 0.345}
\newcommand{\hlnum}[1]{\textcolor[rgb]{0.686,0.059,0.569}{#1}}%
\newcommand{\hlstr}[1]{\textcolor[rgb]{0.192,0.494,0.8}{#1}}%
\newcommand{\hlcom}[1]{\textcolor[rgb]{0.678,0.584,0.686}{\textit{#1}}}%
\newcommand{\hlopt}[1]{\textcolor[rgb]{0,0,0}{#1}}%
\newcommand{\hlstd}[1]{\textcolor[rgb]{0.345,0.345,0.345}{#1}}%
\newcommand{\hlkwa}[1]{\textcolor[rgb]{0.161,0.373,0.58}{\textbf{#1}}}%
\newcommand{\hlkwb}[1]{\textcolor[rgb]{0.69,0.353,0.396}{#1}}%
\newcommand{\hlkwc}[1]{\textcolor[rgb]{0.333,0.667,0.333}{#1}}%
\newcommand{\hlkwd}[1]{\textcolor[rgb]{0.737,0.353,0.396}{\textbf{#1}}}%
\let\hlipl\hlkwb

\usepackage{framed}
\makeatletter
\newenvironment{kframe}{%
 \def\at@end@of@kframe{}%
 \ifinner\ifhmode%
  \def\at@end@of@kframe{\end{minipage}}%
  \begin{minipage}{\columnwidth}%
 \fi\fi%
 \def\FrameCommand##1{\hskip\@totalleftmargin \hskip-\fboxsep
 \colorbox{shadecolor}{##1}\hskip-\fboxsep
     % There is no \\@totalrightmargin, so:
     \hskip-\linewidth \hskip-\@totalleftmargin \hskip\columnwidth}%
 \MakeFramed {\advance\hsize-\width
   \@totalleftmargin\z@ \linewidth\hsize
   \@setminipage}}%
 {\par\unskip\endMakeFramed%
 \at@end@of@kframe}
\makeatother

\definecolor{shadecolor}{rgb}{.97, .97, .97}
\definecolor{messagecolor}{rgb}{0, 0, 0}
\definecolor{warningcolor}{rgb}{1, 0, 1}
\definecolor{errorcolor}{rgb}{1, 0, 0}
\newenvironment{knitrout}{}{} % an empty environment to be redefined in TeX

\usepackage{alltt}
\usepackage[utf8]{inputenc}
\usepackage[T1]{fontenc}
\usepackage{amsmath}
\usepackage{amsfonts}
\usepackage{amssymb}
\usepackage{graphicx}
\usepackage{tikz}
\usepackage{tikz-cd}
\usepackage{stackengine}
\usepackage[margin=2in]{geometry}
\tikzcdset{scale cd/.style={every label/.append style={scale=#1},
		cells={nodes={scale=#1}}},
	every arrow/.append style={line width=0.1}}
\parindent=0pt
\pagenumbering{gobble}
\IfFileExists{upquote.sty}{\usepackage{upquote}}{}
\begin{document}
\begin{center}
\section*{Test choice tree}
\end{center}


This graphic below describes the test choice algorithm employed in the \texttt{DescrTab2} package. Some of the branching steps are dependent on the data and some can be manipulated by the user. The type of data (\texttt{numeric},  \texttt{ordered} factor and unordered \texttt{factor}) is automatically determined, as is the number of groups and the number of categories in categorical variables. The user may choose to apply nonparametric instead of parametric tests, asymptotic instead of exact and paired instead of unpaired tests.

The default argument is \texttt{test\_options=list(paired=F, nonparametric=F, exact=F)}. In a scenario with 2 groups, this will give produce Welch's t-test for numerical variables and a chi-squared test for categorical variables with 2 categories.

Test choices can be manually overwritten. E.g. if you want to calculate Boschlo's test only for the gender variable and use a chi-squared test (default) for everything else, you can request this by supplying the following argument: \\
\texttt{var\_options=list(gender=list(test="Welchs chi-squared test"))}.

\vspace{1.5cm}


\hspace{-5cm}
% https://tikzcd.yichuanshen.de/#N4Igdg9gJgpgziAXAbVABwnAlgFyxMJZADgBoAGAXVJADcBDAGwFcYkQAdDnGADxwBGAM2Bce-YAHUAFlgDG0gAQ84ORVjiKFmGGEVCIAJ2XSYihoaz0BjMwF9FYvjhfALdpxID8duyDuk6Ji4+IQoAOykAIzUdEys7J6CIknAAML0PADmRvJMvv6BIBjYeAREAJzRsQwsbIic3M7Cok0SAHLMALYwlnL5fgFBpaFEZABMNfH1jeLJrXPAAPKGUFhgA4XDIeUoACykkzS1CQ1JLantEF3rm0PFwWVhyADMpC9TdYlt86kAgnAAJ5dNA4CB4OQFe4lHbPACs70+p1mzRSP2AAFFePQ5DgoUUYU8iAcAGxImapLiqHEAa3oYG0hkx2NxigAsnJ2jAuvRDJoVHjgAAKdZyRgAOkUkiwjDgBEUcDkRjMaQAkgBKfHbIkRUh7cnfOYXdEABXoWEMMCgWoeI12yCq+uO00NqIWzmAqrAsDQulgYDxgwJj1GurhBrO6PGiiyhggzDQcCD2tDyBJpHDzq+kayMAAjo50S8Y3GE0mtrbYWMMxGURIoiX42hk5WdcgouQa1nkVxc3nUopi7Gm+XoSH7ZEyd2KeiqThafTGVIZUrePKcAB3CAAWjg9BBtgVWCyYCt28M9JpynggpFDIligAEgAZRRqzUtwmp9NTuLZus4MAABilhWjyegCp+47PFUmZ-j2UaNmWUF2jBpC-icM6LHOC4MtIRjAGy9JgNuMi4KegKKAAqteqh2MKooPi+b4ajaX72h26G1qkADShjMHAdKMKRTCMBoigEDA24bvQlF-O0SwAGp-ChVYoFE4yHNxPzGthHDUnIdJ4QRaQEHgYDMPGSbAPSUCKJAhg8owjCUWsqiWAIzA8NabHQUQURRHq2lGmiixmhaVq+ah-kHE68FYW6qRej6fq6IGFbsc8GldvF3x9oWixDqWiaqW2URvHBmGuvWSHNhlfnqQclUupGizRsOyH1dF6kIs1-69vmBUekVI6lam2UYS1AGtAZRlLmyWC8FaihdNAMCMIo8lKX8pD0XAzACAAVjArKqgAIoo9CaBe3rXIoMBCEIJ3pWO3Xtm8k39eiADKODMP6OCaJJu77mgh44NukFdWp7YIp9CGLEBkM3ooQpbcpmrQ22mlxVVrWJaa5qWj5WOpm8uNTecoUeslMC+t6aVRTDsXBQTYVE5FY32giFNfSF7oSLT9MA0zbZNazEjjLw0bzjYMBc-COV49NUsy9YtgK0QcMS4BOGGYu+FMgAQpgCiMBAmC0bejGStKsryoqyosR+pP2hVOvADxvCvrLGuu88H0e3rc2G8AJowLycpgJoaSyLuebMLyy2QQx962zKUcKkqlosfoRiKKrLuvTDgV9QjHqq8o6vy-7RCdmXCUSMHBsETxiiWr6eBPJovCKK+ADixX8tXu3AAItyGJRlpwBg0fy5r6lcdO1W6-p8768ZTIclyPJ8lb9F3mK6f23ojs5++oupp28ON4BpkKDd8CKAAivvtcoJpDcr8AUTe1XcsL2QJpG+39Y5YHjonYmMYLZQFPHAOA24IBCG3EIXAb9i5lVLh7dqQ9AEBSXrlfGTc164SXL9f6aVNBoA5nZCGKdD4Pgvng0kQcSEbyXJIdaCgADk-JkZ0VTkfZ2l97RkBAUQwCdtVzymBnuA8ZhsAnjPDdK8UM7CxCtLmBAKBQBCDjF0JAnYQBgiQIFEAjBrDrRNA1EA6xsCwBAMvCRrgNDiiEDiMEhghQWHVAAXl8QAFRbHo64hiaAmMQJpQhAEXFwHFBZHofRvG8j8YEvwNALECCsTYuxWAHH3BCQYxAZiIlvHMZYxg1juq2OjnktgTiYmAVcUYWAxNkmGFSUEishTTHhIgEgA40SkixPFC03oVp2mpKAuk8pWTKk5NqfkooPTECDIiQiIZPxXB8A8f46ZjjZnZOqbkpZuj9EDL6UgdMhz5nHMWfUzZcxtkshwP4rpBTzmRMuYgMpythmAUgGAahF4eg4D6G8mZmSjlqRqfYtgHzQk-O+WQR5zhXDUIilACFByoW3JhSc+FyzPllIiVUG5VT8X3IOX8rZgEMXEz2cEz5KKIkdgRUUll-TilRHZUgMlrKXi8sQPyrlGkhVRNZWS3FFKdSwrqdSymtLgCAuBfuGAYL5CMu6Z8-BxjRVwiFVEa5rLwiGpJaK4ghqjGsr2IakVSBxhGJpU8ulNDsUZIqTK0McrTkgBWVEe1kSzHOrRa6zFWqPVzK9bsH1hKzmIvGOah1pqiUJolVy8YJJxUbIieMS1qaimOu+eMcY4qSkZsFQWh15aHW2qrUG4tBr63Gq5S8Mx0qFlwoVXzUNwB6VWmxUKltSAXhRI7XcrtDT-l9rdb4-ZQq23fJeJW+NRTR1Lrraukdw6fkpq3T861ras31pza2ox47KWTtRfwdFs7531peJygZ5AF2Br2Dy+t4xA0vAqEK09DqpWes7fKqdSr+1YrSdqxFy7vl7r9cStZram37peIegZpb617HTQMld8HEWBqNeKtDqzN14aKXsRDAzkNkdrd8vYx791fqXfm-d2U9UDNNZQOwQA
\begin{tikzcd}
\begin{tikzcd}[scale cd=0.34, sep=10pt]
                                                                                  &                                                             &                                               &                                                                                                                     &                                                                                                                 &                                                                                                                &                                &                                                                                                                                           & \textbf{\text{Which test is chosen for the variable } \texttt{var}\text{?}} \arrow[ld, "\texttt{is.factor(var)==T}" description] \arrow[rd, "\texttt{is.numeric(var)==T}" description] &                                                                                                                                     &                                     &                                                         &                                                                                                                                                                 &                                   &                                                             &                                \\
&                                                             &                                               &                                                                                                                     &                                                                                                                 &                                                                                                                &                                & \textbf{\text{Categorical}} \arrow[rd, "\texttt{is.ordered(var)==T}" description] \arrow[llld, "\texttt{is.ordered(var)==F}" description] &                                                                                                                                                                                        & \textbf{\text{Numerical}} \arrow[ld, "\texttt{nonparametric==T}" description] \arrow[rrrd, "\texttt{nonparametric==F}" description] &                                     &                                                         &                                                                                                                                                                 &                                   &                                                             &                                \\
&                                                             &                                               &                                                                                                                     & \textbf{\text{Nominal}} \arrow[ld, "\texttt{exact==F}" description] \arrow[rd, "\texttt{exact==T}" description] &                                                                                                                &                                &                                                                                                                                           & \textbf{\text{Ordinal}} \arrow[ldd, "\texttt{paired==T}" description] \arrow[rdd, "\texttt{paired==F}" description]                                                                    &                                                                                                                                     &                                     &                                                         & \textbf{\text{\stackanchor{Continuous}{and normally distributed}}} \arrow[ldd, "\texttt{paired==T}" description] \arrow[rrdd, "\texttt{paired==F}" description] &                                   &                                                             &                                \\
&                                                             &                                               & \textbf{\text{Asymptotic}} \arrow[d, "\texttt{paired==F}" description] \arrow[ld, "\texttt{paired==T}" description] &                                                                                                                 & \textbf{\text{Exact}} \arrow[ld, "\texttt{paired==T}" description] \arrow[d, "\texttt{paired==F}" description] &                                &                                                                                                                                           &                                                                                                                                                                                        &                                                                                                                                     &                                     &                                                         &                                                                                                                                                                 &                                   &                                                             &                                \\
&                                                             & \textbf{\text{Paired}} \arrow[lld] \arrow[ld] & \textbf{\text{Independent}} \arrow[d] \arrow[ld]                                                                    & \textbf{\text{Paired}} \arrow[d]                                                                                & \textbf{\text{Independent}} \arrow[d]                                                                          &                                & \textbf{\text{Paired}} \arrow[d] \arrow[ld]                                                                                               &                                                                                                                                                                                        & \textbf{\text{Independent}} \arrow[rd] \arrow[ld] \arrow[d]                                                                         &                                     & \textbf{\text{Paired}} \arrow[rd] \arrow[d]             &                                                                                                                                                                 &                                   & \textbf{\text{Independent}} \arrow[ld] \arrow[d] \arrow[rd] &                                \\
{\text{\stackanchor{K repetitions x L Groups table,}{binary response}}} \arrow[d] & \text{2x2 table} \arrow[d]                                  & \text{1xL table} \arrow[d]                    & \text{KxL table} \arrow[d]                                                                                          & \text{2x2 table} \arrow[d]                                                                                      & \text{2x2 table} \arrow[d]                                                                                     & \geq \text{3 groups} \arrow[d] & \text{2 groups} \arrow[d]                                                                                                                 & \text{1 group} \arrow[d]                                                                                                                                                               & \text{2 groups} \arrow[d]                                                                                                           & \geq\text{ 3 groups} \arrow[d]      & \text{2 groups} \arrow[d]                               & \geq \text{3 groups} \arrow[d]                                                                                                                                  & \text{1 group} \arrow[d]          & \text{2 groups} \arrow[d]                                   & \geq \text{3 groups} \arrow[d] \\
\text{Cochranes Q test}                                                           & \text{\stackanchor{McNemars test}{(incl. Wilson score CI)}} & \text{Chi-squared goodness-of-fit test}       & \text{\stackanchor{Pearsons Chi-squared test}{(incl. Wilson score CI for 2x2)}}                                     & \text{\stackanchor{Exact McNemars test}{(incl. Wilson score CI)}}                                               & \text{\stackanchor{Boschloos test}{(incl. Wilson score CI)}}                                                   & \text{Friedman test}           & \text{\stackanchor{Wilcoxon two-sample signed-rank test}{(incl. HL CI)}}                                                                  & \text{Wilcoxon one-sample signed-rank test}                                                                                                                                            & \text{\stackanchor{Mann-Whitney U test}{(incl. HL CI)}}                                                                             & \text{Kruskal-Wallis one-way ANOVA} & \text{\stackanchor{Students paired t-test}{(incl. CI)}} & {\text{\stackanchor{Mixed model ANOVA,}{subject ID as random effect}}}                                                                                          & \text{Students one-sample t-test} & \text{\stackanchor{Welch's t-test}{(incl. CI)}}             & \text{F-test (ANOVA)}
\end{tikzcd}
\end{document}
